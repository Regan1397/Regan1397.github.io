
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">


        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <script type='text/javascript' src="Js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="Js/jquery.webcam.js"></script>
    <script type='text/javascript' src='Js/script.js'></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>  
    <script type="text/javascript" src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobox/src/infobox.js"></script>



    <title>Live View</title>
    <style>
     /* html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }*/
    </style>

    <script>
var map;
var welly = new google.maps.LatLng(-41.2934628,174.77618337);   //default location
var sv = new google.maps.StreetViewService();

var panorama;
   var WSYMarker = 'Imagery/WSYMarker3.png';
var geocoder = new google.maps.Geocoder();

function geocodePosition(pos) {
  
  geocoder.geocode({
    latLng: pos
  }, function(responses) {
    if (responses && responses.length > 0) {
      updateMarkerAddress(responses[0].formatted_address);
    } else {
      updateMarkerAddress('Cannot determine address at this location.');
    }
  });
}

function updateMarkerStatus(str) {
  document.getElementById('markerStatus').innerHTML = str;
}

function updateMarkerPosition(latLng) {
  document.getElementById('info').innerHTML = [
    latLng.lat(),
    latLng.lng()
  ].join(', ');
}

function updateMarkerAddress(str) {
  document.getElementById('address').innerHTML = str;
}















function initialize() {

     //Marker Positons
          var Pos1 = new google.maps.LatLng(-41.29402304,174.77763981);
          var Pos2 = new google.maps.LatLng(-41.29633246,174.77785707);
          var Pos3 = new google.maps.LatLng(-41.29447848,174.77358699);
          var Pos4 = new google.maps.LatLng(-41.29364216,174.77543503);
          var Pos5 = new google.maps.LatLng(-41.29142737,174.77732062);
          var Pos6 = new google.maps.LatLng(-41.29754557,174.77646768);
          var Pos7 = new google.maps.LatLng(-41.29324314,174.78082091);
          var Pos8 = new google.maps.LatLng(-41.29370463,174.78109449);


       



  // Set up the map
  var mapOptions = {
          center: { lat: -41.2934628, lng: 174.77618337},
          disableDefaultUI: true,
          zoom: 15,
           disableDoubleClickZoom: true,
            scrollwheel: false,
              // linksControl: false,
            panControl: false,
           // mapTypeId: 'satellite'


        };


        // Set up the map
  var StreetViewOptions = {
          // center: { lat: -41.2934628, lng: 174.77618337},
          disableDefaultUI: true,

           disableDoubleClickZoom: true,
            scrollwheel: false,
              linksControl: false,
            panControl: false,
           // mapTypeId: 'satellite'
        };

  map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
  panorama = new google.maps.StreetViewPanorama(document.getElementById('pano'), StreetViewOptions);



//*** Info Window Variabe ***//


    // var  infobox2 = new InfoBox({
    //      content: document.getElementById("infobox2"),
    //      // disableAutoPan: false,
    //      // maxWidth: 400,
    //      pixelOffset: new google.maps.Size(-251, -317),
    //      zIndex: null,
    //     //  boxStyle: {
    //     //     // background: "url('Imagery/tipbox.png') no-repeat",
    //     //     opacity: 1,
    //     //     width: "280px"
    //     // },
    //     closeBoxMargin: "12px 2px 2px 2px",

    //     closeBoxURL: "Imagery/closebutton2.png",
    //     infoBoxClearance: new google.maps.Size(0.1, 0.1)
    // });

//*** Markers Var **///


  map.set('styles',[
 
  {
   featureType: 'water',
    elementType: 'geometry',
    stylers: [
      { color: '#8fa0b2' },    
    ]
  },
   {
   featureType: 'road.highway',
    elementType: 'geometry.stroke',
    stylers: [
      { color: '#dd7272' },    
    ]
  },
  {
   featureType: 'landscape.natural.landcover',
    elementType: 'geometry.fill',
    stylers: [
      { color: '#7d7c7c' },    
    ]
  },
   {
   featureType: 'poi.park',
    elementType: 'geometry.fill',
    stylers: [
      { color: '#a5a5a5' },    
    ]
  },

]);



// var marker4 = new google.maps.Marker({
//       position: Pos4,
//       map: map,
//       icon: WSYMarker
//   });
// var marker5 = new google.maps.Marker({
//       position: Pos5,
//       map: map,
//       icon: WSYMarker
//   });
// var marker6 = new google.maps.Marker({
//       position: Pos6,
//       map: map,
//       icon: WSYMarker
//   });
// var marker7 = new google.maps.Marker({
//       position: Pos7,
//       map: map,
//       icon: WSYMarker
//   });
// var marker8 = new google.maps.Marker({
//       position: Pos8,
//       map: map,
//       icon: WSYMarker
//   });

 // google.maps.event.addListener(marker1, 'click', function() {
 //        infobox1.open(map, this);
 //        map.panTo(Pos1);
 //    });


  google.maps.event.addListener(map, 'click', function(event) {

      sv.getPanoramaByLocation(event.latLng, 50, processSVData);
      map.panTo(event.latLng);

    });




 // google.maps.event.addListener(marker2, 'click', function() {
 //        infobox2.open(map, this);
 //        map.panTo(Pos2);
 //    });



  // google.maps.event.addListener(marker1, 'click', function(event) {
  //     sv.getPanoramaByLocation(event.latLng, 50, processSVData);
  // });
  // google.maps.event.addListener(marker2, 'click', function(event) {
  //     sv.getPanoramaByLocation(event.latLng, 50, processSVData);
  // });
  updateMarkerPosition(welly);
  geocodePosition(welly);

}
function processSVData(data, status) {
  if (status == google.maps.StreetViewStatus.OK) {
    var marker = new google.maps.Marker({
      animation: google.maps.Animation.DROP,
      position: data.location.latLng,
      map: map,
      icon: WSYMarker,
      title: data.location.description,
      
    });

    panorama.setPano(data.location.pano);
    panorama.setPov({
      heading: 270,
      pitch: 0
    });
    panorama.setVisible(true);

    google.maps.event.addListener(marker, 'click', function() {

      var markerPanoID = data.location.pano;
      // Set the Pano to use the passed panoID
      panorama.setPano(markerPanoID);
      panorama.setPov({
        heading: 270,
        pitch: 0
      });
      panorama.setVisible(true);
    });

google.maps.event.addListener(map, 'click', function() {
    // updateMarkerStatus('Drag ended');
     // infobox1.open(map, this);
     updateMarkerPosition(marker.getPosition());
    geocodePosition(marker.getPosition());

    

     
  });

  } else {
    alert('No Live CCTV Camera found here sorry.');
  }
}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
<div>
      <img class="Faded" src="Imagery/Faded.png">
    </div>

    <div class = "navbar navbar-inverse navbar-static-fixed-top">  
      <div class = "container">

        <a href = "#"  class = "navbar-brand"> <img class= "featureImg"  src = "Imagery/WeSeeYou.png" height= "100%"> </a>  
        <!-- Gives us title in nav bar  -->

        <button class = "navbar-toggle" data-toggle = "collapse" data-target = ".navHeaderCollapse">  <!-- data-target tells the button what it is going to collapse. -->
          <span class ="icon-bar"> </span> <!-- This is just a barline -->
          <span class ="icon-bar"> </span> 
          <span class ="icon-bar"> </span> 

         </button>

        <div class = "collapse navbar-collapse navHeaderCollapse"> <!-- What will be collapsed when in a mobile -->


          <!-- <ul class = "nav navbar-nav navbar-right">  -->
          <ul class = "nav navbar-nav nav-middle ">   <!-- gives us styling for navbar -->

            <li  > <a   href = "index.html">  Home </a></li>

              <li class = "dropdown">
                <a href = "#" class = "dropdown-toggle" data-toggle = "dropdown"> <span class="ActivePage">Explore <b class = "caret"></b></span>  </a>
                <ul class="dropdown-menu">
                  <li> <a href = "Register.html"> Login/Register</a></li>
                  <li> <a href = "FaceRecon.html"> FaceRecognition</a></li>
                  <li> <a href = "Profile.html"> Profile</a></li>
                  <li> <a href = "liveView.html"><span class="ActivePage-Dark">  Live CCTV </span></a></li>
                  <li> <a href = "Search.html"> Search</a></li>
                </ul>
              </li>

            <li> <a href = "About.html"> About</a></li>
            <li> <a href = "Help.html"> Help</a></li>
            <li> <a href = "Contact.html"> Contact</a></li>

              <li class = "dropdown">
                <a href = "#" class = "dropdown-toggle" data-toggle = "dropdown"> Social Media <b class = "caret"></b> </a>
                <ul class="dropdown-menu" id ="WidthCorrection1">
                  <li> <a href = "https://www.facebook.com/weseeyounz" target="_blank"> Facebook</a></li>
                  <li> <a href = "http://weseeyounz.tumblr.com/" target="_blank"> Tumblr</a></li>
                  <li> <a href = "Promotion.html"> <span style="color: #fee78b">Promotion</span></a></li>
                </ul>
              </li>

          </ul>

        </div>

      </div>
    </div>

<div class="container">
  <div class = "row ">
    <div class= "col-lg-12">
<div class= "overallPanoPos">
<div id="map-canvas"></div>

        <div class="container">
          <div class="Content"> 
          <div class="intro">
            <h1> Live View </h1>
              <div class="underline"> </div>
              <p class="para1"> Live View allows the user to explore CCTV live camera footage within a given location. The message behind this is to emphasize to the public the power that the government has over the individual. <br>
               Enjoy.
                </p>
       
            
            <img class="GMLogo" src="Imagery/EyeLogo.png">
       <p class='click'> Click above to explore </p>
     </div>
      </div>

          <div class="wholePano">
          
          <!-- <div class="panoPos"> -->
          <div class="wBGround"> </div>
          <div class="wBGround2"> </div>
               <div id="address" class="address"></div>


         <div  id="pano" class="pano"> </div> 
          <img class="panoOverlay" src="Imagery/CCTVFrame1.png">
           
          <div class="Overlay"> </div> 
          <img id="recordLight" src="Imagery/Record.gif">
          <div class="panoOverlay2"> </div>
          <!-- <p class="dropit"> Drop a point on the map to explore. </p> -->
                        <p class="dropit"> Drop a point on the map to explore. </p>
               <img class="GMLogo2" src="Imagery/EyeLogo.png">

           <!-- </div> -->
          </div>


       


          </div>
             
        

         
         <div id='infoWindow'> 
         <img class="SideFade" src="Imagery/SideFade.png">
        


    </div>













    <div id="infoPanel">
    <b>Current position:</b>
    <div id="info"></div>
    <b>Closest matching address:</b>
    <div id="address"></div>
    </div>


</div>
          </div>
                </div>
                      </div>





   <!--  <div id="map-canvas"></div>
    <div id="infoPanel">
    <b>Current position:</b>
    <div id="info"></div>
    <b>Closest matching address:</b>
    <div id="address"></div>
    </div>
    <div id="pano"></div> -->


     

    <!--   <img class="infoLogo" src ="Imagery/EyeLogo2.png">
        <p class="infoText"> Click above to explore. <p> -->

  </body>
</html>